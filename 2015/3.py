# ---------------------------------------------------------------------------------------------------------------------
# AoC 2015
# ---------------------------------------------------------------------------------------------------------------------
# 3.py
# ---------------------------------------------------------------------------------------------------------------------


# ---------------------------------------------------------------------------------------------------------------------
def route(steps: str) -> dict:

    x, y = 0, 0
    houses = {(x, y): 1}

    for d in steps:

        if d == '^':
            y += 1
        elif d == '>':
            x += 1
        elif d == '<':
            x -= 1
        elif d == 'v':
            y -= 1
        else:
            raise RuntimeError

        xy = x, y
        if xy not in houses.keys():
            houses[xy] = 0

        houses[xy] += 1

    return houses
# ---------------------------------------------------------------------------------------------------------------------


# ---------------------------------------------------------------------------------------------------------------------
def main() -> None:

    with open('input_3.txt') as f:
        f_line = f.readline().strip()

    santa_houses = route(f_line)
    print("part 1: %d" % len(santa_houses.keys()))

    human_houses = route(f_line[::2])
    robot_houses = route(f_line[1::2])
    print("part 2: %d" % len(set(list(human_houses.keys()) + list(robot_houses.keys()))))
# ---------------------------------------------------------------------------------------------------------------------


# ---------------------------------------------------------------------------------------------------------------------
if __name__ == '__main__':
    main()
# ---------------------------------------------------------------------------------------------------------------------


# ---------------------------------------------------------------------------------------------------------------------
# End-of-File
# ---------------------------------------------------------------------------------------------------------------------
