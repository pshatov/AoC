# ---------------------------------------------------------------------------------------------------------------------
# AoC 2015
# ---------------------------------------------------------------------------------------------------------------------
# 5.py
# ---------------------------------------------------------------------------------------------------------------------


# ---------------------------------------------------------------------------------------------------------------------
# Variables
# ---------------------------------------------------------------------------------------------------------------------
# noinspection SpellCheckingInspection
VOWELS = 'aeiou'
FORBIDDEN = ['ab', 'cd', 'pq', 'xy']


# ---------------------------------------------------------------------------------------------------------------------
def check_nice1(s: str) -> bool:

    #
    # 1
    #
    num_vowels = 0
    for v in VOWELS:
        num_vowels += s.count(v)

    if num_vowels < 3:
        return False

    #
    # 2
    #
    twice = False
    for i in range(1, len(s)):
        if s[i] == s[i - 1]:
            twice = True
            break

    if not twice:
        return False

    #
    # 3
    #
    for f in FORBIDDEN:
        if f in s:
            return False

    return True
# ---------------------------------------------------------------------------------------------------------------------


# ---------------------------------------------------------------------------------------------------------------------
def check_nice2(s: str) -> bool:

    #
    # 1
    #
    nice = False
    for i in range(1, len(s)):
        s1 = s[i - 1: i + 1]
        s2 = s[:i - 1]
        s3 = s[i + 1:]
        if s1 in s2 or s1 in s3:
            nice = True
            break

    if not nice:
        return False

    #
    # 2
    #
    for i in range(2, len(s)):
        if s[i] == s[i - 2]:
            return True

    return False
# ---------------------------------------------------------------------------------------------------------------------


# ---------------------------------------------------------------------------------------------------------------------
def main() -> None:

    with open('input_5.txt') as f:
        f_lines = [s.strip() for s in f.readlines()]

    num_nice1, num_nice2 = 0, 0
    for fl in f_lines:
        if check_nice1(fl):
            num_nice1 += 1
        if check_nice2(fl):
            num_nice2 += 1

    print("part 1: %d" % num_nice1)
    print("part 2: %d" % num_nice2)
# ---------------------------------------------------------------------------------------------------------------------


# ---------------------------------------------------------------------------------------------------------------------
if __name__ == '__main__':
    main()
# ---------------------------------------------------------------------------------------------------------------------


# ---------------------------------------------------------------------------------------------------------------------
# End-of-File
# ---------------------------------------------------------------------------------------------------------------------
